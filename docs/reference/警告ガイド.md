# 警告ガイド（Warnings: `warn_*`）

`warn_*` は条件が望ましくない場合に警告を出力します。停止はしません。数値スケールやリソース上限に関わるヒント、クラスタ関連の注意喚起などに使用します。

## 全体設計
- 出力は統一形式（簡潔な説明＋実際値）。
- モジュール内に `logical, parameter :: ENABLE_WARNING` を用意し、無効化で早期 return を可能に。

## 主なモジュールと役割
- `mod_warn_in_range.*` … 値が範囲外のときに通知（型別に整数/実数）
- `mod_warn_array_size_within_limit.*` … 大サイズ配列が上限を超えそうなときに通知
- `mod_warn_value_within_limit.*` … 値が設定上限/下限を逸脱しそうなとき
- `warn_cluster/mod_warn_clusters_non_empty.f90` … クラスタが空の可能性が高い場合の通知

## 使用例（概念）
```fortran
subroutine warn_in_range_i64(x, lo, hi)
  if (x < lo .or. x > hi) then
    write(error_unit, '(a)') 'value is out of range.'
    flush(error_unit)
    return
  end if
end
```

## 設計ノート
- 停止はしない。呼び出し側は必要に応じてログレベルで制御。
- 性質名は肯定形。何が逸脱しているか（value/rows/sizeなど）を明示。

## 関数一覧（簡易シグネチャ）

- mod_warn_in_range
  - `warn_in_range_i64(a: i64, lo?: i64, hi?: i64, file, class_name, value_name)`
  - `warn_ge_i64(a: i64, lo: i64, file, class_name, value_name)`
  - `warn_le_i64(a: i64, hi: i64, file, class_name, value_name)`
- mod_warn_value_within_limit
  - 値の上限/下限逸脱を通知（型別関数）
- mod_warn_array_size_within_limit
  - 配列サイズが上限に迫る場合の通知
- warn_cluster/mod_warn_clusters_non_empty
  - `warn_clusters_non_empty(labels_counter: i64(:), file, class_name, value_name)`

## 実装ファイル（モジュール → パス）

- `mod_warn_in_range` → `fortlearner/utils/warn/mod_warn_in_range.f90`
- `mod_warn_value_within_limit` → `fortlearner/utils/warn/mod_warn_value_within_limit.f90`
- `mod_warn_array_size_within_limit` → `fortlearner/utils/warn/mod_warn_array_size_within_limit.f90`
- `mod_warn_non_zero_mean` → `fortlearner/utils/warn/mod_warn_non_zero_mean.f90`
- `mod_warn_clusters_non_empty` → `fortlearner/utils/warn/warn_cluster/mod_warn_clusters_non_empty.f90`
